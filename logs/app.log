{"timestamp":"2025-07-13T20:51:59.478Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"718644abe46106e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:51:59.482Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"273986cbb11cc080","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.301Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"3154dd6020d0be2a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.320Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"70e764d8e40c4ba9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.323Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"aab166906e230a88","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.332Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"0b0e95c6667b2fec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.336Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"72548d8e193a005f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.341Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"09147176939ff724","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.360Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"cb8db538d96be37e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.365Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"dc73537951c82f2e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.366Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"72ce68db2bd13b33","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.368Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"eccde0041280530d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.411Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"9b30065e185da4d6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.413Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"4188918b34635fef","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.414Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"d6e278c91d02499f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.415Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"806703029aefee30","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.416Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"1d1415a746bf22c1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.417Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"c351af55d7634e57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.418Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"501e33f71baf2e6c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.425Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"d7c5652d9c4621e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.466Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"f65f397740769fbc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.919Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"536f9a2d1da5c7fd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.921Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"21905e62aeb23ea2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.922Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"f1522e7e265013a0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.924Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"cb0ae68e669541fa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.929Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"85dae2b92530f668","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.935Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"ca87c0db90a07859","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.937Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"ccb683032cc9c6c7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.965Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":27984},"logId":"c3ea380bec63cdfd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.967Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"25d0691dfb04749e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.001Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"6a7b28f193604680","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.003Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"e03100137c09d106","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.007Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"954db23b9cbeffdb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.008Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"3f2c199d6f1ddcdd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.488Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"2126ms"},"logId":"5a911e580d85e206","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.492Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"23f4ff324ddbe22b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.496Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"2076ms"},"logId":"e6c7daba041184b8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.497Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"fe4818eef680e53c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.387Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"fd1a45f73457e3ee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.964Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T20:55:00.402Z","toDate":"2025-07-14T20:55:00.402Z","duration":"561ms"},"logId":"67667f89a453111f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.972Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"715479877bf5f1bb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:00.918Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"a4a87d5c43f230da","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:01.222Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:00:00.921Z","toDate":"2025-07-14T21:00:00.921Z","duration":"301ms"},"logId":"1c07e40c48ae882b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:01.234Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"05593009f4b5dad4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.202Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"99e76cc4183857eb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.560Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:05:00.205Z","toDate":"2025-07-14T21:05:00.205Z","duration":"355ms"},"logId":"cfbc431a9b52bbec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.564Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"44e5d3ed6723d207","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:00.865Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"df12f049d89296f9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:01.285Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:10:00.867Z","toDate":"2025-07-14T21:10:00.867Z","duration":"418ms"},"logId":"888364c2a9dff211","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:01.288Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b2b9d4f0af340871","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.021Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"5fde8532535aa4ca","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.313Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:15:00.028Z","toDate":"2025-07-14T21:15:00.028Z","duration":"285ms"},"logId":"8416cbbd753e251a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.319Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ba17ad1b83ff3811","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:00.833Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"b8a9fd5365a61056","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:01.463Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:20:00.866Z","toDate":"2025-07-14T21:20:00.866Z","duration":"597ms"},"logId":"dd9c4c73eee60d5b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:01.500Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"3a43bf542a227985","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:22:02.420Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"8b03d787fdefc6d4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.223Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"954de96ccf5b968d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.749Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:25:00.230Z","toDate":"2025-07-14T21:25:00.230Z","duration":"519ms"},"logId":"f0d780199306bb53","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.752Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ef2a3a3f226d4f6e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.305Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"4a44586b34c7cf6a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.769Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:30:00.310Z","toDate":"2025-07-14T21:30:00.310Z","duration":"458ms"},"logId":"0e945eb8141d9660","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.780Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9097fa1d86af8d25","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:49.137Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"ebbafd391df1c938","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:49.140Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"8a9d1f30c4e3dcca","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.529Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"4e5a84065c9f4bc4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.538Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"274bb157f54a1175","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.540Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"439726e0d34b0250","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.549Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"86378fdca06e341e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.553Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"7a081efd2e1bd161","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.556Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"c01f5d0af1e0c9e0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.568Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"8faf91216bb997ce","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.571Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"5d501682717b973f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.571Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"b60e5ea799ed7366","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.573Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"f47c1797f64f4997","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.593Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"55ad82c63851750e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.593Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"14c7d289bcc54e57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.594Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"ca1b6895ae095d25","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.595Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"ad88fbd429f9ca5b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.596Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"c598a227361e8bf6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.596Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"45f2c6fd80bf3788","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.597Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"28a92b4158cc3cc8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.601Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"6b1b0e839b853b4e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:50.605Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"393f5f2e82461ca9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.452Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"92bc4bbec468bc03","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.454Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"cdeb4a5398f8dad3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.455Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"a27a3075d65350a7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.457Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"27b501106d175074","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.463Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"a7cad3639124888c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.468Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"c4badf258e632169","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.469Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"ff63d68b3937fa4e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.484Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":21696},"logId":"bfd29ac0338a15c2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.485Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"a48f594754f41005","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.536Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"bdd93079e2b5dbda","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.537Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"fbd459d626af2731","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.538Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"4c11e39be90ea91a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:51.538Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"d8904c3f63e0680a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:52.259Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"1661ms"},"logId":"a817e825367f3009","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:52.260Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"c4d5e2c9367e5e14","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:52.263Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"1694ms"},"logId":"dcb81b8faad1c2cf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:01:52.267Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"483a0fd7e1946e31","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:05:00.210Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"954fbaaff5cf7b00","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:05:00.645Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T11:05:00.212Z","toDate":"2025-07-15T11:05:00.212Z","duration":"432ms"},"logId":"bac6836479104b27","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:05:00.650Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"96c5a7d71fb5d90b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:10:00.625Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"338c06da29e13e50","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:10:00.930Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T11:10:00.626Z","toDate":"2025-07-15T11:10:00.626Z","duration":"304ms"},"logId":"a9e4785fe7468019","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:10:00.932Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"c38002f087b1a2f5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:15:00.232Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f78644c8368217ba","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:15:00.654Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T11:15:00.235Z","toDate":"2025-07-15T11:15:00.235Z","duration":"419ms"},"logId":"e171160be84616d2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:15:00.655Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"2e90c869a0c850e3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:20:00.263Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1ed483b549a365dc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:20:00.667Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T11:20:00.265Z","toDate":"2025-07-15T11:20:00.265Z","duration":"402ms"},"logId":"530bac2ca1150087","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:20:00.670Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"36e994b300ec1b57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:25:00.252Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"6151d078b992c4cf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:25:00.628Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T11:25:00.252Z","toDate":"2025-07-15T11:25:00.252Z","duration":"376ms"},"logId":"56a26803d491c6c6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T11:25:00.630Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"93f2c99a672b9db9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:08:41.369Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"41c9a3da28455959","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:08:41.370Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"653da0d02a6cdcd4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:10:00.892Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"0c43f4793e47224f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:10:01.295Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:10:00.897Z","toDate":"2025-07-15T13:10:00.897Z","duration":"398ms"},"logId":"f5ed230447f581d4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:10:01.296Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"d825d15bdf6dbaac","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:15:00.596Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"3d3260f5b7e9483e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:15:01.116Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:15:00.599Z","toDate":"2025-07-15T13:15:00.599Z","duration":"517ms"},"logId":"f371500e0f1fb98f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:15:01.117Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"5770ecb8ebccc9b8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:20:00.730Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"273227e1f08780f5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:20:01.153Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:20:00.734Z","toDate":"2025-07-15T13:20:00.734Z","duration":"419ms"},"logId":"84c398b5d840470f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:20:01.154Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"a1c3026a63d3d4d4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:25:00.406Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"4639dc830534f905","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:25:00.756Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:25:00.408Z","toDate":"2025-07-15T13:25:00.408Z","duration":"348ms"},"logId":"4ae40a652553447b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:25:00.757Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ec67c61623eb50ea","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:30:00.839Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"b2a7be64f7e2a3a8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:30:01.213Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:30:00.840Z","toDate":"2025-07-15T13:30:00.840Z","duration":"373ms"},"logId":"5a4de64b4b572ef1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:30:01.215Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"52661d0fc0d55a9f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:35:00.488Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"2e19272857b13668","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:35:01.390Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:35:00.492Z","toDate":"2025-07-15T13:35:00.492Z","duration":"898ms"},"logId":"26159725145642d5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:35:01.393Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ccd5ab6da9cc8a44","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:38:41.377Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"8e328b3e1119c566","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:40:00.223Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"9a01892782e578a0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:40:00.602Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:40:00.227Z","toDate":"2025-07-15T13:40:00.227Z","duration":"375ms"},"logId":"d75170d3a57f22cb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:40:00.603Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"fd89ef83e8080e5c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:45:00.983Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"12d3520d835e3bce","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:45:01.617Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:45:00.987Z","toDate":"2025-07-15T13:45:00.987Z","duration":"630ms"},"logId":"173c44f0cc843242","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:45:01.620Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"e18294fe09bba2cc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:50:00.660Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"76a545155436af20","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:50:01.017Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:50:00.662Z","toDate":"2025-07-15T13:50:00.662Z","duration":"355ms"},"logId":"8154e8c8d669dacf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:50:01.019Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9f5c3adae2fa99e3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:55:00.566Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"50d5e139075bbbd8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:55:00.991Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T13:55:00.568Z","toDate":"2025-07-15T13:55:00.568Z","duration":"423ms"},"logId":"8bc7db10565cde8b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T13:55:00.996Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"220ed0857ce80ed9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:00:00.369Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"6087fab9ece4eac4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:00:00.778Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T14:00:00.371Z","toDate":"2025-07-15T14:00:00.371Z","duration":"407ms"},"logId":"55210ea9304d0437","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:00:00.780Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"2cbb01554388f560","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:08:41.378Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"2b2ab49d17f80c9e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:08:41.381Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"9a1fa2d2a53ba6ce","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:10:00.770Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"9952c5d7326b75ba","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:10:01.100Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T14:10:00.774Z","toDate":"2025-07-15T14:10:00.774Z","duration":"326ms"},"logId":"e6e898c06f9bbf8f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:10:01.102Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"f9bb9ef01deb7bfb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:15:00.560Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1b02abe0545d7f4f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:15:00.987Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T14:15:00.565Z","toDate":"2025-07-15T14:15:00.565Z","duration":"422ms"},"logId":"2cd714fa5b1e3689","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:15:00.990Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"fa4187e35706c640","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:20:00.524Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"762ee2e8abcb117e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:20:00.858Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T14:20:00.528Z","toDate":"2025-07-15T14:20:00.528Z","duration":"330ms"},"logId":"a7e74622509d0a01","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:20:00.861Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"fb9d42d25fdae542","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:25:00.796Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1a4ae97fbd7d3fcc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:25:01.200Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T14:25:00.799Z","toDate":"2025-07-15T14:25:00.799Z","duration":"401ms"},"logId":"f2007bcaf994f100","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T14:25:01.203Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"380fa4a88374022f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:14:45.528Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"cad7b6f629ccc75b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:14:45.536Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"192863a629c71517","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:15:00.433Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"87b01406398e4057","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:15:00.830Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:15:00.435Z","toDate":"2025-07-15T18:15:00.435Z","duration":"395ms"},"logId":"00d7bec91370cccc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:15:00.832Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"2322fec0cfc1692c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:20:00.317Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"25dc7f05b65ed62c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:20:00.719Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:20:00.318Z","toDate":"2025-07-15T18:20:00.318Z","duration":"401ms"},"logId":"d916037288ebc795","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:20:00.721Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"019cae2a91fccc20","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:25:00.100Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"00062c113987cd53","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:25:00.539Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:25:00.104Z","toDate":"2025-07-15T18:25:00.104Z","duration":"435ms"},"logId":"aa10b37887291fba","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:25:00.542Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"1c4c959fe6757d46","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:30:00.836Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"a329241c7660184f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:30:01.279Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:30:00.839Z","toDate":"2025-07-15T18:30:00.839Z","duration":"440ms"},"logId":"65b81d2ba6e6cea4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:30:01.283Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"7d9f34c43e72f760","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:35:00.620Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f0c7b3084a6c22bc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:35:00.978Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:35:00.622Z","toDate":"2025-07-15T18:35:00.622Z","duration":"356ms"},"logId":"4aec24b81d038aa3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:35:00.980Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"714b17d9e1214f8c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:40:00.422Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"364f6fd413c7a575","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:40:00.812Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:40:00.427Z","toDate":"2025-07-15T18:40:00.427Z","duration":"385ms"},"logId":"a92e4d3216a4bb4b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:40:00.815Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"86e8f9bbf5aefc8c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:44:45.541Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"e83ba824d705d32a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:45:00.177Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"8d870fe77549e368","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:45:00.523Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:45:00.180Z","toDate":"2025-07-15T18:45:00.180Z","duration":"343ms"},"logId":"5861661106454efc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:45:00.527Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"a0409e4e250592f7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:50:00.077Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"83cb714f4b2a9a68","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:50:00.491Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:50:00.079Z","toDate":"2025-07-15T18:50:00.079Z","duration":"412ms"},"logId":"af769bccc102bbbc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:50:00.493Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"0d4cffed2b3b9ae2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:55:00.778Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"dd4da05498c8099c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:55:01.174Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T18:55:00.781Z","toDate":"2025-07-15T18:55:00.781Z","duration":"393ms"},"logId":"9126072add146c51","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T18:55:01.176Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ef47d9d3b24cd536","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:00:00.198Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"5dd6e9161966ee3e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:00:00.483Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T19:00:00.199Z","toDate":"2025-07-15T19:00:00.199Z","duration":"284ms"},"logId":"31faa1c11500d61d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:00:00.486Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"d63bb4e70eab8df4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:05:00.888Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"798844a2c454e5f8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:05:01.302Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T19:05:00.890Z","toDate":"2025-07-15T19:05:00.890Z","duration":"412ms"},"logId":"d6dd1cbb7266b008","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:05:01.304Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"171daf81020e9b9e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:10:00.388Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"7ee93536b55a8e14","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:10:00.780Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T19:10:00.390Z","toDate":"2025-07-15T19:10:00.390Z","duration":"390ms"},"logId":"15a3ee0744ae1c95","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:10:00.783Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"3edc82a47792ebbe","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:14:45.539Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"1a927799995f5947","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:14:45.542Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"fd8f85296947ed52","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:15:00.959Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"381c3f127e723da9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:15:01.355Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T19:15:00.963Z","toDate":"2025-07-15T19:15:00.963Z","duration":"392ms"},"logId":"aab44401d9b2cb0a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:15:01.357Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"c1be246cbf8fe634","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:20:00.807Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"a8704d66120a6c0f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:20:01.193Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T19:20:00.809Z","toDate":"2025-07-15T19:20:00.809Z","duration":"384ms"},"logId":"05e6c9e2ea515fdb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:20:01.196Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b2ddfb2d055df8c3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T19:20:19.386Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"0827c317f822e244","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:31.318Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"051584b07de9a815","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:31.321Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"303ebda7e777f672","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.190Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"34c54711c6872f2d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.204Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"3f97ac720c4c251d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.207Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"e8197bad551b8ed1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.217Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"a14276cfee69a406","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.226Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"a7194e4aa6e2d53e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.248Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"71a0bd21a1117890","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.283Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"ff49b993e0cbf875","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.312Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"eb7132fae32bb388","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.345Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"7df56425f76ec073","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.377Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"6fc0fd09bdf2f3ee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.426Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"213458201848b17f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.430Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"3e0d3dd16ba0b59a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.431Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"4211080400cbdff3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.431Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"45cde01b98946661","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.432Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"d2bbcc30d9229424","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.433Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"632ad18f36774214","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.434Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"1742d7a1277d24bc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.437Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"6a0d5d8f32b673e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:34.445Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"b3f207c3f6f466da","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.229Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"ed8b9d31d6182860","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.231Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"ff3ad4229e0808e2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.232Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"7cb509166a6a0693","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.234Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"2f1fd71a3d0daef5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.244Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"70904b6b2724b6c9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.252Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"495e10e32b8b05ef","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.255Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"dd79e16c93030d66","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.284Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":26276},"logId":"765f21621c97808e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.285Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"7ced63e9a8d5262d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.319Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"6bb41ee046d3e05b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.321Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"7a5728ec5d480d81","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.323Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"01382a7da7e089d1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.324Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"519ff403e1de7863","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.846Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"2411ms"},"logId":"d8124fd50305096e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.849Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"2173b276459e0d0a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.852Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"2549ms"},"logId":"fd6bc72e703c8bb5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:29:36.861Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"161b9e89fd148bc6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:30:00.545Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"8c08acde84679118","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:30:00.780Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:30:00.547Z","toDate":"2025-07-15T21:30:00.547Z","duration":"233ms"},"logId":"c4068a638448350f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:30:00.783Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9d56b6f73e1ea476","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:35:00.432Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"114ac16e8aed1b19","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:35:01.004Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:35:00.437Z","toDate":"2025-07-15T21:35:00.437Z","duration":"567ms"},"logId":"f30fa934a5fd2276","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:35:01.008Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"01c144ce2b17725c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:40:00.061Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"03b3be585f24e5a7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:40:00.436Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:40:00.064Z","toDate":"2025-07-15T21:40:00.064Z","duration":"372ms"},"logId":"5216ce990c5a2376","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:40:00.438Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"2bea67cda57ce62f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:45:00.987Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"8231868f232faec2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:45:01.353Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:45:00.990Z","toDate":"2025-07-15T21:45:00.990Z","duration":"363ms"},"logId":"7dc903dc910130a7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:45:01.356Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b8c71888b6569191","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:50:00.756Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"d94682c5edd96a2d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:50:01.139Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:50:00.760Z","toDate":"2025-07-15T21:50:00.760Z","duration":"379ms"},"logId":"5eeb68f814f3ceab","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:50:01.143Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ddbf8210fbf6d167","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:55:00.640Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"82e46fd9ca7cd391","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:55:01.057Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T21:55:00.644Z","toDate":"2025-07-15T21:55:00.644Z","duration":"380ms"},"logId":"f981eb4af7923a5b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:55:01.075Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b6d5e5659636d243","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T21:59:34.321Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"0ebefcb04759d0eb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:00:00.344Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"9c36df3e07c43a0d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:00:00.725Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T22:00:00.345Z","toDate":"2025-07-15T22:00:00.345Z","duration":"379ms"},"logId":"0814e34776b588f9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:00:00.728Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"09a1065aa6b8aa5c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:05:00.066Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1a836d649158e620","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:05:00.459Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-14T22:05:00.069Z","toDate":"2025-07-15T22:05:00.069Z","duration":"390ms"},"logId":"ad5eb2b7f5627ee8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:05:00.461Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"38f0f8e85d6218e5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-14T22:08:59.412Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"6fa90e25d78f0a27","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:02.717Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"944bbbcc73b64111","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:02.722Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"fddafd9b0ba261d1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.603Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"86314ae7ced69678","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.621Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"9d1916081b56b705","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.626Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"787a949fd3583ec3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.638Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"600c479c10a410a9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.649Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"7dfe99a24eb94a4f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.659Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"fb7d96be1be3cafb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.693Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"7e432acfd8b260b4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.704Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"85181697e5a85eec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.706Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"dd1b389d76094736","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.710Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"16b4fe5e4fb02164","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.773Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"a9b9fcacc0ca39e2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.774Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"526583c9c6d2a428","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.775Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"4b4d27fcf197f6f4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.776Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"0eb874a7dba70a94","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.779Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"39dadbe472e9d891","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.780Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"5b56e285bb923796","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.781Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"7638670c87b9034b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.790Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"8ab609888740558c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:06.803Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"f07e5458b18487c6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.583Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"9f2e108e755e47cc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.584Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"89083a1e35c4fe34","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.585Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"572e83340736a4cb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.587Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"09bf2c15e5e10e5d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.598Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"6134c7aa23f98042","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.605Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"ab9fd94768d47305","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.608Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"93c499819f49b6c6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.650Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":5656},"logId":"b37e5d9c492a0a86","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.652Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"0f7eeea2e3968a5d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.747Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"59b8f2d4d7126dc8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.748Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"5d8f267a43b7ebe0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.750Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"f7fd7d4bad60698d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:08.751Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"22a12938f28b90a7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:09.420Z","level":"ERROR","message":"Error en bÃºsqueda avanzada de servicios","metadata":{"message":"<html>\r\n<head><title>502 Bad Gateway</title></head>\r\n<body>\r\n<center><h1>502 Bad Gateway</h1></center>\r\n<hr><center>cloudflare</center>\r\n</body>\r\n</html>\r\n","filters":["is_active"],"duration":"2723ms"},"logId":"e9e57ce5a3d9ec37","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:09.467Z","level":"WARN","message":"No services found during initialization - services may not be initialized yet","metadata":{"success":false,"dataLength":0,"error":"<html>\r\n<head><title>502 Bad Gateway</title></head>\r\n<body>\r\n<center><h1>502 Bad Gateway</h1></center>\r\n<hr><center>cloudflare</center>\r\n</body>\r\n</html>\r\n"},"logId":"3ed6e33c262e75fa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:09.646Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"2864ms"},"logId":"69fd7bef012e1cc9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:09.648Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"f54bc684bc5b4b17","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:14.477Z","level":"INFO","message":"Retrying services cache initialization...","metadata":{},"logId":"e681a793f844ba3b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:14.479Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"a920066a3934467a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:14.691Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"210ms"},"logId":"956e09af00383430","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:06:14.692Z","level":"INFO","message":"Services cache initialized successfully on retry","metadata":{"count":34},"logId":"2ebce39aae49321b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:10:00.787Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"41829242b9693233","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:10:01.141Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:10:00.789Z","toDate":"2025-07-16T21:10:00.789Z","duration":"351ms"},"logId":"8354e7977e2067bf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:10:01.144Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b53f2e6c27719f78","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:15:00.375Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"9bec5f05d62f366f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:15:00.768Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:15:00.379Z","toDate":"2025-07-16T21:15:00.379Z","duration":"389ms"},"logId":"a09f47a80b02a0c3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:15:00.771Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"62bc23d9b5bfe5e5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:20:00.092Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"bb118a9ee492907f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:20:00.443Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:20:00.095Z","toDate":"2025-07-16T21:20:00.095Z","duration":"348ms"},"logId":"a7f7dbe04055f211","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:20:00.446Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"5bf3e9900344325b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:25:00.701Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"8ec6742975d03cea","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:25:01.107Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:25:00.705Z","toDate":"2025-07-16T21:25:00.705Z","duration":"402ms"},"logId":"f216fa1bb457ec29","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:25:01.110Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ca8b25e274f4979e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:30:00.389Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f0274b4c967df63b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:30:00.788Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:30:00.394Z","toDate":"2025-07-16T21:30:00.394Z","duration":"394ms"},"logId":"38f7e76364046140","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:30:00.791Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ff956aa8ca9f543d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:35:00.400Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1efe05e9574955b5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:35:00.902Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:35:00.404Z","toDate":"2025-07-16T21:35:00.404Z","duration":"498ms"},"logId":"5eb94e6461a560f6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:35:00.908Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"75e1f6905c06581a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:36:06.710Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"66e6997b63d67ad5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:40:00.990Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"3235a4fc77682aea","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:40:01.397Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:40:00.996Z","toDate":"2025-07-16T21:40:00.996Z","duration":"401ms"},"logId":"5eb1e87c05a66a2e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:40:01.399Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"c13883c64afebe07","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:45:00.639Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"b9f165b48ce675d6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:45:00.991Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:45:00.643Z","toDate":"2025-07-16T21:45:00.643Z","duration":"348ms"},"logId":"f27e2d48ddf69652","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:45:01.011Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"1709b9a18d706717","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:50:00.614Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"4ceff1361fc820c5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:50:00.977Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T21:50:00.616Z","toDate":"2025-07-16T21:50:00.616Z","duration":"361ms"},"logId":"b455c6f645d06d4d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:50:00.985Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"47fc58b0c8751383","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:52:10.326Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"b02afb4ed636ef1d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:28.766Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"887663758fc1e6fa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:28.769Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"2f71420d3a2bb58f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.655Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"ddb2878883cea0d3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.673Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"155a0b33733b7b2f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.678Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"3d0e0ca547332067","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.687Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"3add321379fc6473","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.695Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"63465c194aca52a2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.701Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"7f8571bb568cc779","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.731Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"a200204dafae1b3a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.747Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"5c8acb690b3170c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.749Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"0f998612f6807e94","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.751Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"50b8cdc504a26d04","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.787Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"7a10d379a6104596","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.789Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"7820377d45b6a024","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.792Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"9c09a7a43de899c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.793Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"33bedf45085d1175","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.794Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"5606de80f7a19412","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.794Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"93989c0fbd1da65d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.795Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"064dd9c4996011c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.799Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"699524e6843595e9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:30.804Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"9c769ec7cac6790f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.027Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"f52ab13479dd06f4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.030Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"9eb464f20b15806a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.031Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"bdab67300b1420c5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.033Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"8bc60707618648fd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.041Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"73369a6fc9ecc509","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.047Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"91ffdb35285b0562","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.049Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"9e08835129bd385a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.075Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":23472},"logId":"2a67d8f4ccfd9d66","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.076Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"877cc0ceeb64ff38","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.108Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"bdb4ca59e3b958e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.110Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"9e3264c2df5c124e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.111Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"b95429c5ef63c4c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.112Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"98477d5ad0d9f0a8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.665Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"1931ms"},"logId":"2eb955abe1288318","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.671Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"781e2b7f8a185ea7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.740Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"1944ms"},"logId":"40ed92ae0426dd6c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T21:57:32.750Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"78a1f0313e298409","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:00:00.578Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"a7551c3144c2b486","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:00:01.003Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T22:00:00.581Z","toDate":"2025-07-16T22:00:00.581Z","duration":"421ms"},"logId":"0fb7198bedaeffe2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:00:01.006Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"18f6a17db6dc9986","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:01:14.103Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"cf25de0c175ae609","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:39.803Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"3e890db02d4d74f0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:39.805Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"9753300b37f39241","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.580Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"b41ed5a61692b379","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.601Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"62c2f54309789749","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.605Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"430af3404f93acd0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.611Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"6c641fabcc53f2dd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.618Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"5df974380375439e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.624Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"c6ec1aeaba899967","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.652Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"d5a3df907709468b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.658Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"586537d76b8871b2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.659Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"4ff9d834bbaa3f76","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.661Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"350516764750bfa2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.694Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"774c6ab796574a37","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.696Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"151eca37eaeda715","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.697Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"8f5ea02c497dd497","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.700Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"88832a8195048dbf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.702Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"abafef7eb02061ed","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.704Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"5c8aaa772150e1a6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.705Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"2870ea0702c38c51","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.709Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"9bfd9888046dbc24","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:41.714Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"35c5614e1b1556f2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.972Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"10300e35cef40996","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.974Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"638879362188652b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.975Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"363c3322d9f02c5d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.977Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"8442dbaf30d65285","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.986Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"9b6c2916ab18231d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.991Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"5abb356c1e75eb42","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:42.993Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"0394199a30dc1987","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.024Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":13116},"logId":"3a5f48bfa3e47f4f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.026Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"1bfd43568a454d0b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.061Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"18a30072f4e9de75","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.067Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"c4aaabd350537ce5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.071Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"28d97a61efacadd3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.072Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"b808cb85547cf047","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.522Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"1816ms"},"logId":"0a3a7465d5eb57ad","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.534Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"c42db750646baa79","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.548Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"1894ms"},"logId":"26bd7a2876ae8bc4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:02:43.551Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"d6d77b362d17df8d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:03:23.048Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"a891fba539347b59","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:20.698Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"d0a37b73d61bec57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:20.701Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"628b66325cff4c0a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.503Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"8f3cc237b0bf2acd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.521Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"7730e00e2f1ddb4f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.526Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"2df952c957bba15b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.545Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"51681513e0c8d686","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.553Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"13571db59ed00397","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.569Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"2ddf77192eeda601","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.596Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"a2ccdbc37776c017","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.601Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"0bd15fadd1034c38","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.603Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"8e39a46c5a8cb479","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.609Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"9215bb1a3bba14ce","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.637Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"3b82a3ed276fe772","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.642Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"558489637413ef4e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.643Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"882b660a4bab1800","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.644Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"eb9b7ad058b98bb4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.645Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"188e5c1d461393bc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.646Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"0aa898983e720525","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.647Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"49a05d4738865ba5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.651Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"1fc29f299a587b5d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:22.660Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"144d1a4fe27ef97a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.769Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"cb16886197f44339","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.770Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"4894c2b489342a7f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.771Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"4b176b1eee558af4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.773Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"5e4a5d4b292fca81","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.778Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"11e324c573991294","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.783Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"ec20d7543f4ab846","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.785Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"0dd8505ccdf89399","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.814Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":4652},"logId":"da30984851ac66f8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.816Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"372db0a119f70e73","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.852Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"1c0cdc7dd752b3c9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.854Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"fd447b69395ceb04","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.857Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"d24ca32b032484b9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:23.861Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"19618bb02a8761f6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:24.376Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"1728ms"},"logId":"fb29d4de5779e986","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:24.378Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"577e5db91ed9b330","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:24.437Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"1839ms"},"logId":"da276e7c0c5e95fc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:46:24.441Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"3f77347f5f67ca25","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:47:06.011Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"eff576497130757f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:25.808Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"d0b1bd2170a4a8d2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:25.811Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"d35ed7ae19a289b2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.638Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"f030113f7b558490","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.663Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"0a8076e352c82a85","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.670Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"ee2fe4dd7e02d6e0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.679Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"14e70e33b615f985","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.688Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"7ffc6643389d61f9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.703Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"47a112637987f391","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.718Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"c097b05e4a0679e9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.723Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"274036154ea5d7ce","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.724Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"4f653a5e65476bcc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.726Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"dfc51e7aa3796254","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.752Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"09a2a230e8b6d5a3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.753Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"646a64e45bcdabb1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.755Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"510a35b6f79bfc61","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.755Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"42b8c115c74498f3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.757Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"76057d8c3b0778f0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.758Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"9b658ac9374aa974","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.759Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"fc7a8ce7d3dd4c35","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.764Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"b9fff3b450eef121","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:27.772Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"1c68014b510640b3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.921Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"e6ce88987c6dd8b9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.923Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"0c2c44f5d5f28d93","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.924Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"29cc7fcaf3f13481","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.927Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"0299bce4912e9115","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.947Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"2f5ea59c77a23e7d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.954Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"bc6533b30e267ce6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.957Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"0f8f0e588fab49f2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.987Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":9920},"logId":"c30b3546e4dc2661","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:28.989Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"bab2143a9dc34b06","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.024Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"a642865ee3e6eea8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.026Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"bbb8c9b614bb8824","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.029Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"154d3288756dc0bf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.030Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"eba64d75b1e8dfd6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.495Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"1735ms"},"logId":"f8879fec977c8f1c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.497Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"7b1a9eed65dbbadb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.589Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"1869ms"},"logId":"f5f77100229c057c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:51:29.592Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"b9147dd9a1ba3423","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:55:00.760Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"bd5dda5d256397c9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:55:01.141Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T22:55:00.767Z","toDate":"2025-07-16T22:55:00.767Z","duration":"374ms"},"logId":"78741a9d3d9b929a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T22:55:01.144Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"08b30997b4d33d29","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:00:00.260Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"fdb5a2425046ce77","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:00:00.678Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:00:00.263Z","toDate":"2025-07-16T23:00:00.263Z","duration":"415ms"},"logId":"f2763cdf4726f1c5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:00:00.684Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"fbf17bc7a17b25f3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:05:00.644Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"09c179f8650b9249","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:05:01.050Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:05:00.646Z","toDate":"2025-07-16T23:05:00.646Z","duration":"404ms"},"logId":"dc92c3d6e0cdb82a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:05:01.055Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b8361e9a33f08342","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:15:00.027Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"4276f08bb329d037","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:15:00.416Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:15:00.034Z","toDate":"2025-07-16T23:15:00.034Z","duration":"382ms"},"logId":"ec90752e71a8467a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:15:00.421Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"6fea478feb5060e4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:20:00.076Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"81d22559984f8d10","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:20:00.489Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:20:00.079Z","toDate":"2025-07-16T23:20:00.079Z","duration":"410ms"},"logId":"bb4827aa35c9936f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:20:00.498Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9b8213a0843f456e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:21:27.787Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"a81e195c3d561fb8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:25:00.122Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"e96ef2cc5ab2c055","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:25:00.670Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:25:00.135Z","toDate":"2025-07-16T23:25:00.135Z","duration":"535ms"},"logId":"a939384195b8a3f3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:25:00.680Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"64bd88b87d451a14","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:30:00.718Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"baa2903fa737f820","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:30:01.207Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:30:00.721Z","toDate":"2025-07-16T23:30:00.721Z","duration":"486ms"},"logId":"08d8d2b7602ac61d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:30:01.218Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"e34937ca42d556be","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:35:00.505Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"252f430a3875cf37","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:35:00.892Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:35:00.511Z","toDate":"2025-07-16T23:35:00.511Z","duration":"381ms"},"logId":"59a74a8fd0e9d465","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:35:01.009Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ec4c0742176e4cfb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:40:00.108Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"14c0fb669e947379","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:40:00.420Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:40:00.110Z","toDate":"2025-07-16T23:40:00.110Z","duration":"310ms"},"logId":"6d9babd776a0578e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:40:00.424Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"d0bd182b9a83daca","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:45:00.522Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"d3ad7445299e4721","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:45:00.892Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:45:00.524Z","toDate":"2025-07-16T23:45:00.524Z","duration":"368ms"},"logId":"8e9f31a28b2649ac","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:45:00.893Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9120e99310fe5493","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:50:00.251Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"aca47aeaab8df0b8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:50:00.609Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:50:00.253Z","toDate":"2025-07-16T23:50:00.253Z","duration":"356ms"},"logId":"4d2949f4289dfcde","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:50:00.610Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"a2ccb2405d6bbb78","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:51:27.691Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"7ff672998c9c3bc6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:51:27.800Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"cff3cb1d529c258d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:55:00.907Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"57c5ffc132d7fbf8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:55:01.275Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-15T23:55:00.909Z","toDate":"2025-07-16T23:55:00.909Z","duration":"366ms"},"logId":"8d0e98de49e0f372","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-15T23:55:01.277Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"752b58c7d0c531c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.681Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"43d8d8cfd2f4a3de","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.977Z","level":"INFO","message":"ðŸ§¹ Cleaning up old notifications","metadata":{},"logId":"cd198acd9da2a540","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.984Z","level":"INFO","message":"Starting GDPR data cleanup","metadata":{},"logId":"02a06f4a8e4db954","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.985Z","level":"ERROR","message":"Error in GDPR data cleanup","metadata":{},"logId":"12a9afe9219cfbf4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.987Z","level":"ERROR","message":"GDPR cleanup failed","metadata":{},"logId":"05eb4e99172177be","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:00.989Z","level":"ERROR","message":"GDPR standard cleanup failure notification","metadata":{},"logId":"3604d2bfb618d042","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:01.217Z","level":"ERROR","message":"Error eliminando notificaciones antiguas","metadata":{"message":"relation \"public.notifications\" does not exist","beforeDate":"2025-06-16T00:00:00.979Z","duration":"237ms"},"logId":"6a024f35992077ba","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:01.287Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:00:00.682Z","toDate":"2025-07-17T00:00:00.682Z","duration":"605ms"},"logId":"e0b96c30bac59568","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:00:01.289Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"17f5ea372d99008d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:05:00.290Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"8340d30e903fd275","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:05:00.678Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:05:00.295Z","toDate":"2025-07-17T00:05:00.295Z","duration":"383ms"},"logId":"fbb6a0229ddef0da","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:05:00.679Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"6aa73daa11162106","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:10:00.936Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"48e5f95a2ac1c5e5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:10:01.266Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:10:00.937Z","toDate":"2025-07-17T00:10:00.937Z","duration":"329ms"},"logId":"873f4f7ab4a30dfc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:10:01.268Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"1f0cb53f81edc08b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:15:00.510Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f5358132ff6fb808","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:15:00.781Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:15:00.512Z","toDate":"2025-07-17T00:15:00.512Z","duration":"269ms"},"logId":"e7c8ee2b680e9100","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:15:00.783Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"c39aee59ed1cf2f3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:20:00.129Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f2f2bbd1d9152169","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:20:00.530Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:20:00.130Z","toDate":"2025-07-17T00:20:00.130Z","duration":"400ms"},"logId":"35b17f5d48023970","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:20:00.535Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"6f1ee7c1c7b26628","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:21:27.806Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"bf80b7f15b3095f4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:25:00.709Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"994c8536be5fcd3b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:25:01.087Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:25:00.711Z","toDate":"2025-07-17T00:25:00.711Z","duration":"376ms"},"logId":"a1d11645b320a8aa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:25:01.088Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"1db9c710c3159ce8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:30:00.294Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"14b7e60fe2bdafcc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:30:00.688Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:30:00.295Z","toDate":"2025-07-17T00:30:00.295Z","duration":"393ms"},"logId":"4361eefd3ef8aaee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:30:00.691Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"eb8e46631ee7f31c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:35:00.064Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"1b57229315d08cc5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:35:00.415Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:35:00.065Z","toDate":"2025-07-17T00:35:00.065Z","duration":"350ms"},"logId":"dc5003cdf1557ac0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:35:00.416Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"fdfc8d32447fa47f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:40:00.752Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"f14de6b49ba31aff","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:40:01.137Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:40:00.754Z","toDate":"2025-07-17T00:40:00.754Z","duration":"383ms"},"logId":"874e529d756efd8a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:40:01.139Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"1fe78d0a33c49f13","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:45:00.378Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"7b2a367f4cf02055","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:45:00.778Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:45:00.380Z","toDate":"2025-07-17T00:45:00.380Z","duration":"398ms"},"logId":"8dafc6790016e923","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:45:00.780Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"28be4fe77148a8cd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:50:00.073Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"db2c536c8fe0fadd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:50:00.427Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:50:00.075Z","toDate":"2025-07-17T00:50:00.075Z","duration":"352ms"},"logId":"9053cc6377f37b6b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:50:00.429Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"d2086840b7511347","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:51:27.702Z","level":"ERROR","message":"Error cleaning up expired sessions","metadata":{},"logId":"712b369d20f19ddb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:51:27.810Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"2ad263301464e1c8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:55:00.630Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"2011426e2cd92644","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:55:00.980Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T00:55:00.631Z","toDate":"2025-07-17T00:55:00.631Z","duration":"349ms"},"logId":"4f87f7a20fd4cabe","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T00:55:00.981Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"5b08b33b981a1289","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T01:00:00.386Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"ebdf84bf4eb82066","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T01:00:00.745Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-16T01:00:00.387Z","toDate":"2025-07-17T01:00:00.387Z","duration":"358ms"},"logId":"ec10ed78952cef80","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T01:00:00.747Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"c6e1d6cfe593b8e8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T01:03:03.518Z","level":"INFO","message":"SIGINT received - shutting down gracefully","metadata":{},"logId":"5a399df14aff8ede","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:23:09.767Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"3410cd50e1c4ae80","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:27:46.260Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"3179ea91611b15ed","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:31:36.860Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"411df08cf73c4a0a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:40:03.842Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"60cf1101a14ab2ba","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:40:03.848Z","level":"INFO","message":"Nuevo contexto de conversaciÃ³n creado","metadata":{"phone":"346******","totalContexts":1},"logId":"0ef805adf9df72b5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:40:03.850Z","level":"ERROR","message":"Error actualizando contexto de conversaciÃ³n","metadata":{},"logId":"84fe99fd40f91c11","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:41:08.525Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"9d26b69f0f5dab16","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:41:08.531Z","level":"INFO","message":"Nuevo contexto de conversaciÃ³n creado","metadata":{"phone":"346******","totalContexts":1},"logId":"d1d16721ff1e5885","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:41:08.532Z","level":"INFO","message":"Mensaje agregado al contexto","metadata":{"phone":"346******","hasUserMessage":true,"hasAssistantResponse":true,"totalMessages":1},"logId":"53b0d67fa82fbc7d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T03:41:08.535Z","level":"INFO","message":"Contexto de conversaciÃ³n eliminado","metadata":{"phone":"346******","remainingContexts":0},"logId":"2355d26be655f7ec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.632Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"b6c1590127fae166","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.826Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"e71897dd04a4a7b7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.827Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"3438a5cb9d8fa9e3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.899Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"6e032d821b2dec0d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.900Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"5e294de18c4b8fd6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:43.901Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"b49204699af00aa7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.208Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"aa7ec02cc19553f2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.210Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"12a6f5a7cbf7fcef","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.210Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"0c82b21cd34f4e5e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.215Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"f4bb4141c550fb4a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.216Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"8bb29605f31bb0a8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.217Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"5a209a48b080d79f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.219Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"c745981ae3e8e236","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.842Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"c0b2c478ef63eb8f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:44.842Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"d2daadedf684b6f4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:46.235Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"2fff4531479b54c1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:46.399Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"745961f6117b42e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:46.402Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Datos invÃ¡lidos: El nombre debe tener al menos 2 caracteres\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:85:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"9a0cd023164e7efe","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:13:46.404Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Datos invÃ¡lidos: El nombre debe tener al menos 2 caracteres\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:85:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"a009cbf2fc1bf72f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:11.894Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"e19880c695eba6b6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.009Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"272a65f0754e398d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.010Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"ca787c272053b0d3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.089Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"5be7b3719e474db8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.090Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"fe4f12b108c4739c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.091Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"43716606a6448e4e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.252Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"574b322befb9046a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.253Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"33819e4dcc14fae1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.255Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"424e7777aa6d7b76","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.258Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"9b38de9e8c86b731","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.259Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"a5f98f9849af8239","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.260Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"1edeb2f942ec1a17","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.262Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"85917bc73577fe57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.548Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"e6908ce663905b00","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:12.549Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"4cb0c1815906ddb4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:14.269Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"02afea1abd12e46d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:14.438Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"a07532142fa322fe","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:14.516Z","level":"ERROR","message":"Error en ClientModel.create","metadata":{},"logId":"267782fd97e5ae61","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:14.517Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Could not find the 'first_name' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:92:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"a41e3fe8154553af","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:15:14.520Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Could not find the 'first_name' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:92:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"c2671254474254a1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.359Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"06677849bf2c9dab","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.448Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"567619fe8a0cf2e2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.448Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"154322b790cca046","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.519Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"e22bda48c7a7eebe","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.520Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"c8a030f73dcdaf93","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.522Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"6ab46a9519ad510f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.649Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"947a4c26f6af89d5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.651Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"49b71dfd128915bf","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.653Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"f86e89ec1ba7858b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.657Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"354283964acfd337","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.657Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"51de652575f991a3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.658Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"f3e80e0c917a7030","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:23.659Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"47b29b75cd9d69aa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:24.112Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"cce6580ce5559602","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:24.113Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"c10c46892151b9e1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:25.661Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"69cd7360004eb8f3","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:25.743Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"055bfa1e845cb7a1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:25.820Z","level":"ERROR","message":"Error en ClientModel.create","metadata":{},"logId":"84c6f740acba8200","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:25.822Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Could not find the 'gdpr_consent' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:90:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"b8a5b391928291aa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:23:25.823Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Could not find the 'gdpr_consent' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:90:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"048e228fc190aefd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.271Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"4975b204f43ea945","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.353Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"e65593c1424d4421","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.354Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"20228efefb2ed264","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.437Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"ab7fa67aa232ca84","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.438Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"a61c2443812baf14","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.439Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"81198b3605ad5b64","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.573Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"9ab0edf114f48f8b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.574Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"baf01e536e5c394f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.575Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"8e57fd6f61a5a256","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.578Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"9582650f8485fe28","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.578Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"c7a3548c6459c2fb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.579Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"bb7b905eaf0e408c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.580Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"5bd06e2a0555c067","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.774Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"1c20179c64721ea7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:02.775Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"9f02cd8600a1af68","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:04.589Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"5e89c253b356da05","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:04.741Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"17464db01027d968","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:04.815Z","level":"ERROR","message":"Error en ClientModel.create","metadata":{},"logId":"171dc48c0a6f7261","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:04.816Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Could not find the 'gdpr_consent' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"c76050167f4b809c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:24:04.818Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Could not find the 'gdpr_consent' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"1f62aec545be9c19","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.623Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"a17373ddcf1242fc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.724Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"c546620c6a0b05cd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.725Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"c259ff351c216ca5","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.812Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"bbc4d7c13bde2eee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.814Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"854510cf578df54f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:57.817Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"d5cec235d9344084","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.114Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"ce4a0208d1181809","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.116Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"602de6f5cf84e105","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.118Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"213a89485956f031","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.125Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"db7b89ac57b6ad27","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.126Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"354d7ab93de1d6f6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.127Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"14728f004b73a10b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.129Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"a40edfb5127e74ab","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.618Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"e057ef45cddf04f8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:26:58.620Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"9e7e05ba558f2234","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:27:00.145Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"66526451ef7f3336","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:27:00.225Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"c4be6c9d3a59e527","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:27:00.303Z","level":"ERROR","message":"Error en ClientModel.create","metadata":{},"logId":"0c10176771d67945","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:27:00.305Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Could not find the 'interaction_count' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"e3992dea76a6eb03","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:27:00.307Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Could not find the 'interaction_count' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"7d6f263d778a3f4a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.058Z","level":"INFO","message":"ConversationContextService inicializado","metadata":{"maxConversations":1000,"maxInactivityHours":2},"logId":"0ecac468b100e182","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.168Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"5744fd4a37b9f50b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.169Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"119386d6882c1da6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.238Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"fe6e255bc237554b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.239Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"7ee4d4b99cfcb568","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.241Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"bf5b07f40030b802","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.410Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"1190fae9b6da332c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.411Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"de5412e400fdd7bb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.412Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"85630bb0319ce9d0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.417Z","level":"INFO","message":"ClientModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"8bc09bc54133653f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.418Z","level":"INFO","message":"ClientService inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{},"logId":"97bc6af42314ba85","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.419Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"dd8c7679dcddecc0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.420Z","level":"INFO","message":"[DEBUG] AutonomousWhatsAppController inicializado","metadata":{},"logId":"b1a91082d84f9488","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.808Z","level":"INFO","message":"Servicios activos obtenidos","metadata":{"count":34},"logId":"523cb60cbf7ca8ee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:20.809Z","level":"INFO","message":"[DEBUG_INIT_AI] Cache de servicios inicializada con Ã©xito. Total: 34","metadata":{},"logId":"bcb121f94b4c3297","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:22.422Z","level":"INFO","message":"ðŸ”„ Procesando nueva reserva desde Calendly...","metadata":{"calendly_uri":"https://calendly.com/events/AAAAAAAAAAAAAAAA","event_type":"https://calendly.com/ricardo-buritica/tratamiento-super-hair","scheduled_at":"2024-12-20T10:00:00.000000Z"},"logId":"bf234f7c19f5860a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:22.502Z","level":"ERROR","message":"Error en ClientModel.findByPhone para: 34600123456","metadata":{},"logId":"39d852245af03e1a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:22.582Z","level":"ERROR","message":"Error en ClientModel.create","metadata":{},"logId":"42b922eb16c9b0eb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:22.583Z","level":"ERROR","message":"Error en findOrCreateByPhone","metadata":{"stack":"Error: Error creando cliente: Could not find the 'is_active' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"03a1929ed0fd456d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-16T04:28:22.584Z","level":"ERROR","message":"ðŸ’¥ Error crÃ­tico procesando reserva de Calendly","metadata":{"stack":"Error: Error creando cliente: Could not find the 'is_active' column of 'clients' in the schema cache\n    at ClientService.findOrCreateByPhone (c:\\Users\\ricar\\Asistente_RB\\src\\services\\clientService.js:88:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async AutonomousWhatsAppController._processCalendlyBooking (c:\\Users\\ricar\\Asistente_RB\\src\\controllers\\autonomousWhatsAppController.js:167:18)\n    at async testCalendlyFlow (c:\\Users\\ricar\\Asistente_RB\\scripts\\test_calendly_flow.js:56:20)"},"logId":"0cfefcfc095e9caf","service":"asistente-rb-autonomo","environment":"development"}
