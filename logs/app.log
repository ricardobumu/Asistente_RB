{"timestamp":"2025-07-13T20:51:59.478Z","level":"INFO","message":"Variables de entorno validadas correctamente","metadata":{},"logId":"718644abe46106e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:51:59.482Z","level":"INFO","message":"ConfiguraciÃ³n cargada","metadata":{"NODE_ENV":"development","PORT":3000,"APP_NAME":"Asi*** RB","hasSupabaseConfig":true,"hasTwilioConfig":true,"hasCalendlyConfig":true,"hasGoogleCalendarConfig":true,"hasOpenAIConfig":true,"hasJWTConfig":"[REDACTED]","hasAdminConfig":true,"hasGDPRConfig":true,"gdprCleanupEnabled":true,"aiModels":{"analysis":"gpt-4-turbo-preview","response":"gpt-3.5-turbo"}},"logId":"273986cbb11cc080","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.301Z","level":"INFO","message":"Google Calendar OAuth client initialized successfully","metadata":{},"logId":"3154dd6020d0be2a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.320Z","level":"INFO","message":"UserModel inicializado","metadata":{"table":"users","validRoles":8,"roleHierarchy":8,"validStatuses":4},"logId":"70e764d8e40c4ba9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.323Z","level":"INFO","message":"TokenBlacklist inicializado","metadata":{"cleanupInterval":3600000},"logId":"aab166906e230a88","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.332Z","level":"INFO","message":"AuthController inicializado","metadata":{"tokenExpiry":"15m***15m","refreshTokenExpiry":"7d***7d"},"logId":"0b0e95c6667b2fec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.336Z","level":"INFO","message":"ClientController inicializado","metadata":{},"logId":"72548d8e193a005f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.341Z","level":"INFO","message":"AdaptedServiceModel inicializado","metadata":{"table":"servicios","fields":11},"logId":"09147176939ff724","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.360Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"cb8db538d96be37e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.365Z","level":"INFO","message":"GDPR Service initialized","metadata":{"consentTypes":5,"legalBases":6},"logId":"dc73537951c82f2e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.366Z","level":"INFO","message":"Intent Analysis Service initialized","metadata":{"intentTypes":12,"serviceKeywords":"[REDACTED]"},"logId":"72ce68db2bd13b33","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.368Z","level":"INFO","message":"Response Generation Service initialized","metadata":{"templates":9,"personalityTraits":5},"logId":"eccde0041280530d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.411Z","level":"INFO","message":"NotificationModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"validTypes":15,"validChannels":4,"consciousTemplates":7},"logId":"9b30065e185da4d6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.413Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"4188918b34635fef","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.414Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"d6e278c91d02499f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.415Z","level":"INFO","message":"NotificationScheduler initialized","metadata":{},"logId":"806703029aefee30","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.416Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"1d1415a746bf22c1","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.417Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"c351af55d7634e57","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.418Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"501e33f71baf2e6c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.425Z","level":"ERROR","message":"Failed to initialize widget services cache","metadata":{},"logId":"d7c5652d9c4621e6","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:02.466Z","level":"INFO","message":"GDPR Cleanup Worker initialized","metadata":{"enabled":true,"schedule":"Daily at 02:00"},"logId":"f65f397740769fbc","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.919Z","level":"INFO","message":"ServiceModel inicializado para Ricardo BuriticÃ¡ Beauty Consulting","metadata":{"totalServices":15,"categories":5,"philosophy":"PeluquerÃ­a Consciente"},"logId":"536f9a2d1da5c7fd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.921Z","level":"INFO","message":"BookingModel inicializado","metadata":{"table":"bookings","validStatuses":4,"validPaymentStatuses":3},"logId":"21905e62aeb23ea2","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.922Z","level":"INFO","message":"ClientModel inicializado","metadata":{"table":"clientes"},"logId":"f1522e7e265013a0","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.924Z","level":"INFO","message":"Rate Limiter initialized","metadata":{"configs":6},"logId":"cb0ae68e669541fa","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.929Z","level":"INFO","message":"Cache service initialized","metadata":{"maxSize":1000,"defaultTTL":300000,"cleanupInterval":60000},"logId":"85dae2b92530f668","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.935Z","level":"INFO","message":"Error handlers initialized","metadata":{},"logId":"ca87c0db90a07859","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.937Z","level":"INFO","message":"Iniciando Asistente RB v1.0.0","metadata":{"environment":"development","port":3000},"logId":"ccb683032cc9c6c7","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.965Z","level":"INFO","message":"ðŸš€ Servidor iniciado exitosamente","metadata":{"port":3000,"host":"0.0.0.0","environment":"development","url":"http://localhost:3000","pid":27984},"logId":"c3ea380bec63cdfd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:03.967Z","level":"INFO","message":"ðŸš€ Starting NotificationScheduler","metadata":{},"logId":"25d0691dfb04749e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.001Z","level":"INFO","message":"âœ… NotificationScheduler started with 3 cron jobs","metadata":{},"logId":"6a7b28f193604680","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.003Z","level":"INFO","message":"ðŸ“… Notification scheduler started successfully","metadata":{},"logId":"e03100137c09d106","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.007Z","level":"INFO","message":"GDPR Cleanup Worker started","metadata":{"dailySchedule":"02:00","weeklySchedule":"Sunday 03:00"},"logId":"954db23b9cbeffdb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.008Z","level":"INFO","message":"ðŸ”’ GDPR cleanup worker started successfully","metadata":{},"logId":"3f2c199d6f1ddcdd","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.488Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":1,"resultsCount":34,"duration":"2126ms"},"logId":"5a911e580d85e206","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.492Z","level":"INFO","message":"Services cache initialized","metadata":{"count":34},"logId":"23f4ff324ddbe22b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.496Z","level":"INFO","message":"BÃºsqueda avanzada de servicios completada","metadata":{"filtersApplied":0,"resultsCount":34,"duration":"2076ms"},"logId":"e6c7daba041184b8","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:52:04.497Z","level":"INFO","message":"Services loaded successfully","metadata":{"count":34},"logId":"fe4818eef680e53c","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.387Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"fd1a45f73457e3ee","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.964Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T20:55:00.402Z","toDate":"2025-07-14T20:55:00.402Z","duration":"561ms"},"logId":"67667f89a453111f","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T20:55:00.972Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"715479877bf5f1bb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:00.918Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"a4a87d5c43f230da","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:01.222Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:00:00.921Z","toDate":"2025-07-14T21:00:00.921Z","duration":"301ms"},"logId":"1c07e40c48ae882b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:00:01.234Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"05593009f4b5dad4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.202Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"99e76cc4183857eb","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.560Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:05:00.205Z","toDate":"2025-07-14T21:05:00.205Z","duration":"355ms"},"logId":"cfbc431a9b52bbec","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:05:00.564Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"44e5d3ed6723d207","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:00.865Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"df12f049d89296f9","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:01.285Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:10:00.867Z","toDate":"2025-07-14T21:10:00.867Z","duration":"418ms"},"logId":"888364c2a9dff211","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:10:01.288Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"b2b9d4f0af340871","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.021Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"5fde8532535aa4ca","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.313Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:15:00.028Z","toDate":"2025-07-14T21:15:00.028Z","duration":"285ms"},"logId":"8416cbbd753e251a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:15:00.319Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ba17ad1b83ff3811","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:00.833Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"b8a9fd5365a61056","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:01.463Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:20:00.866Z","toDate":"2025-07-14T21:20:00.866Z","duration":"597ms"},"logId":"dd9c4c73eee60d5b","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:20:01.500Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"3a43bf542a227985","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:22:02.420Z","level":"ERROR","message":"Error getting all services","metadata":{},"logId":"8b03d787fdefc6d4","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.223Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"954de96ccf5b968d","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.749Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:25:00.230Z","toDate":"2025-07-14T21:25:00.230Z","duration":"519ms"},"logId":"f0d780199306bb53","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:25:00.752Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"ef2a3a3f226d4f6e","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.305Z","level":"INFO","message":"ðŸ”„ Processing scheduled notifications","metadata":{},"logId":"4a44586b34c7cf6a","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.769Z","level":"ERROR","message":"Error obteniendo reservas prÃ³ximas para notificaciones","metadata":{"message":"Could not find a relationship between 'bookings' and 'clients' in the schema cache","fromDate":"2025-07-13T21:30:00.310Z","toDate":"2025-07-14T21:30:00.310Z","duration":"458ms"},"logId":"0e945eb8141d9660","service":"asistente-rb-autonomo","environment":"development"}
{"timestamp":"2025-07-13T21:30:00.780Z","level":"INFO","message":"âœ… Processed 0 upcoming bookings","metadata":{},"logId":"9097fa1d86af8d25","service":"asistente-rb-autonomo","environment":"development"}
